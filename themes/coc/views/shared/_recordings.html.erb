<%# Params passed to render partial %>
<% [user, room, recordings, only_public] %>

<div id="recordings-list" class="row">
  <div id="recordings-header" class="col-12">
    <h2><%= t('recordings.title') %></h2>
  </div>

  <%# Disable search for now %>
  <% if false %>
    <div id="search_bar" class="col-12">
      <input type="text" data-search="recordings" data-search-table="#recording-table" class="form-control" placeholder="<%= t('recordings.search.placeholder') %>">
    </div>
  <% end %>

  <div class="col-12">
    <table id="recording-table" class="table" data-search-target="1">
      <tbody>
      </tbody>
    </table>
    <div id="status"
         data-fetch-recordings-endpoint="<%= @fetch_recordings_endpoint %>"
         data-per-page="<%= @per_page %>">
      <div class="loader-wrapper">
        <button class="load-recordings btn btn-light btn-sm"><%= t('recordings.load') %></button>
        <div class="loader"></div>
        <div class="all-loaded"><%= t('recordings.all_loaded') %></div>
        <div class="empty"><%= t('recordings.empty_list') %></div>
      </div>
    </div>
    <div class="table-footnote">
      <%= t('recordings.table.footnote', zone: current_formatted_time_zone) %>
    </div>
  </div>
</div>
<button class="to-top btn btn-primary">
  <i class="fas fa-angle-up"></i>
</div>

<div id="playback-link-copied-toast" aria-live="polite" aria-atomic="true" class="d-flex justify-content-center align-items-center toast-area">
  <div class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-delay="4000">
    <div class="toast-header">
      <%= t('_all.clipboard.link_copied') %>
      <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  </div>
</div>